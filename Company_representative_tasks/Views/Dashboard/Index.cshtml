
@model Company_representative_tasks.Models.DashboardViewModel

@{
    ViewData["Title"] = "Dashboard";
}


<div class="text-end mb-3">
    <form asp-controller="Account" asp-action="Logout" method="post">
        <button type="submit" class="btn btn-danger">Logout</button>
    </form>
</div>
<h1 class="mb-4 text-center">Dashboard</h1>
<div class="container-fluid">
    <div class="row g-3 justify-content-center">
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <span>Tasks</span>
                    <button class="btn btn-sm btn-light d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#tasksCollapse">Show/Hide</button>
                </div>
                <div class="card-body collapse show" id="tasksCollapse">
                    @await Html.PartialAsync("~/Views/Task/Index.cshtml", Model.Tasks)
                </div>
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                    <span>Invoices</span>
                    <button class="btn btn-sm btn-light d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#invoicesCollapse">Show/Hide</button>
                </div>
                <div class="card-body collapse show" id="invoicesCollapse">
                    @await Html.PartialAsync("~/Views/Invoice/Index.cshtml", Model.Invoices)
                </div>
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
                    <span>Notes</span>
                    <button class="btn btn-sm btn-light d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#notesCollapse">Show/Hide</button>
                </div>
                <div class="card-body collapse show" id="notesCollapse">
                    @await Html.PartialAsync("~/Views/Note/Index.cshtml", Model.Notes)
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .card { border-radius: 1rem; }
    .card-header { font-size: 1.25rem; font-weight: 600; }
    @@media (max-width: 767px) {
        .card-body { padding: 0.5rem; }
        .table { font-size: 0.95rem; }
    }
</style>
<script>
    // Optionally, auto-collapse cards on mobile
    document.addEventListener('DOMContentLoaded', function() {
        if (window.innerWidth < 768) {
            document.querySelectorAll('.card-body').forEach(function(el) {
                el.classList.remove('show');
            });
        }
    });
</script>
